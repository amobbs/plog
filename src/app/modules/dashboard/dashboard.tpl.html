<div id="preslog_dashboard">

    <div id="preslog_sidebar">
        <ul class="nav nav-tabs nav-stacked">
            <li><a href="/dashboard/log-list">Live Report<i class="icon-chevron-right"></i></a></li>
            <li><a href="/dashboard/log-list">Daily Logs<i class="icon-chevron-right"></i></a></li>
            <li><a href="/dashboard/log-list">Weekly Logs<i class="icon-chevron-right"></i></a></li>
            <li><a href="/dashboard/log-list">To Be Released Logs<i class="icon-chevron-right"></i></a></li>
        </ul>

        <h3>Favourite Dashboards</h3>
        <ul class="nav nav-tabs nav-stacked">
            <li><a href="/dashboard/5244e28309cc5eeb498b4567">My Dashboard<i class="icon-chevron-right"></i></a></li>
            <li><a href="/dashboard/">Dash A<i class="icon-chevron-right"></i></a></li>
            <li><a href="/dashboard/">Dash B<i class="icon-chevron-right"></i></a></li>
            <li><a href="/dashboard/">Dash C<i class="icon-chevron-right"></i></a></li>
        </ul>
        <ul class="nav nav-tabs nav-stacked" ng-repeat="item in favourites">
            <li><a ng-href="/dashboard/{{ item.id }}">{{ item.name }}<i class="icon-chevron-right"></i></a></li>
        </ul>

        <h3>All Dashboards</h3>
        <div class="favourites-manager">
            <select ui-select2 ng-model="select2" data-placeholder="Add to Favourites">
                <option value="test">Dashboard Custom</option>
                <option value="test">Magical Dash</option>
                <option value="test">Reporting Box</option>
            </select>
        </div>
    </div>

    <div class="container-fluid " id="preslog_content">
        <div class="row-fluid">

            <div class="span8 dash-title">
                <h1>{{ dashboard.name }}</h1>
                </div>
            <div class="span4">

                <div class="btn-group dash-controls pull-right">
                    <button class="btn" ng-click="openAddWidgetModal()"><i class="icon icon-plus"></i> Add Widget</button>
                    <button class="btn" ng-click="openCreateModal()" ><i class="icon icon-pencil"></i> Create Dashboard </button>
                    <button class="btn dropdown-toggle"><i class="icon icon-list-alt"></i> More <b class="caret"></b> </button>
                    <ul class="dropdown-menu">
                        <li><a href="#" ng-click="openEditDashboardModal()"><i class="icon icon-edit"></i> Edit Dashboard </a></li>
                        <li><a href="#"><i class="icon icon-star-empty"></i> Add to Favourites </a></li>
                        <li><a href="#"><i class="icon icon-star"></i> Remove from Favourites </a></li>
                        <li><a ng-click="exportReport()"><i class="icon icon-download"></i> Export as Report</a></li>
                    </ul>

                </div>
            </div>
        </div>


        <div class="row-fluid">
            <ul id="widget-area" ui-sortable="sortableOptions" ng-model="dashboard.widgets">
                <li class="widget" ng-repeat="widget in dashboard.widgets" ng-class="{col3: widget.maxWidth == 3}" id="{{ widget._id }}">
                    <div class="widget-box widget-movable">
                        <div class="widget-title">
                            <span class="widget-icon">
                                <i class="icon-signal"></i>
                            </span>
                            <h3>{{ widget.name }}</h3>
                            <div class="widget-buttons">
                                <div class="btn-group hover-show">
                                    <a class="btn btn-mini dropdown-toggle" data-toggle="dropdown" href="#">
                                        <span class="caret"></span>
                                    </a>
                                    <ul class="dropdown-menu">
                                        <li><a tabindex="-1" ng-click="refreshWidget(widget._id)"><i class="icon icon-refresh"></i> Refresh</a></li>
                                        <li><a tabindex="-1" ng-click="openEditWidgetModal(widget)"><i class="icon icon-pencil"></i> Edit</a></li>
                                        <li><a tabindex="-1" ng-click="deleteWidget(widget._id)" ng-show="{{widget._id !== null && !widget.deleted}}" ng-confirm-click="Are you sure you want to delete this widget?"><i class="icon icon-remove"></i> Delete widget</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="widget-content">
                            <div ng-switch="widget.type">
                                <log-widget ng-switch-when="list" params="widget.params"></log-widget>
                                <chart ng-switch-default value="widget.display" type="widget.type" height="400"></chart>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>

        </div>
    </div>
</div>

