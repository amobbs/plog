<form name="userForm" ng-submit="saveProfile()" id="userForm" validate-server="serverErrors">

    <nav class="navbar navbar-fixed-top" id="preslog_sub_nav">
        <div class="navbar-inner">
            <div class="container-fluid">
                <a class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-responsive-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>

                <h2>My Profile</h2>

                <div class="nav-collapse collapse navbar-responsive-collapse">
                    <ul class="nav pull-right">
                        <li>
                            <button type="submit" class="btn btn-success" ng-disabled="userForm.$invalid"><i class="icon icon-ok"></i> Save Changes</button>
                        </li>
                    </ul>
                </div><!-- /.nav-collapse -->
            </div>
        </div><!-- /navbar-inner -->
    </nav>

    <!-- My Details -->
    <div class="container-fluid" id="preslog_my_profile">

        <!-- Flash Alerts -->
        <div class="alert alert-success" ng-show="flashMessage.success">
            <h4>Profile successfully updated.</h4>
        </div>
        <div class="alert alert-error" ng-show="flashMessage.error">
            <h4>There was a problem saving your profile.</h4>
        </div>

        <div class="row-fluid">
            <div class="span12 form-horizontal">

                <p>Use the form below to modify your personal details.</p>

                <!-- Names -->
                <div class="control-group" ng-class="{error: userForm.firstName.$invalid}">
                    <label class="control-label" for="inputFirstname">First Name</label>
                    <div class="controls">
                        <input type="text"
                               id="inputFirstname"
                               name="firstName"
                               placeholder="First name.."
                               ng-model="user.firstName"
                               required
                               />
                        <span class="help-inline" ng-show="userForm.firstName.$error.required">You must supply a first name.</span>
                        <span class="help-inline" ng-show="userForm.firstName.$error.validateServer" ng-bind="serverErrors.firstName"></span>
                    </div>
                </div>
                <div class="control-group" ng-class="{error: userForm.lastName.$invalid}">
                    <label class="control-label" for="inputLastname">Last Name</label>
                    <div class="controls">
                        <input type="text"
                               id="inputLastname"
                               name="lastName"
                               placeholder="Last name.."
                               ng-model="user.lastName"
                               required
                               />
                        <span class="help-inline" ng-show="userForm.lastName.$error.required">You must supply a last name.</span>
                        <span class="help-inline" ng-show="userForm.lastName.$error.validateServer" ng-bind="serverErrors.lastName"></span>
                    </div>
                </div>

                <!-- Contact -->
                <div class="control-group" ng-class="{error: userForm.email.$invalid}">
                    <label class="control-label" for="inputEmail">Email Address</label>
                    <div class="controls">
                        <input type="email"
                               id="inputEmail"
                               name="email"
                               required
                               placeholder="Email address.."
                               ng-model="user.email"
                               tooltip="If you change your email address, a email will be sent to the new address and must be confirmed before the change will take affect."
                               tooltip-placement="right"
                               />
                        <span class="help-inline" ng-show="userForm.email.$error.required">You must supply an email address.</span>
                        <span class="help-inline" ng-show="userForm.email.$error.email">Email address in invalid.</span>
                        <span class="help-inline" ng-show="userForm.email.$error.validateServer" ng-bind="serverErrors.email"></span>
                    </div>
                </div>

                <!-- Passwords -->
                <div class="control-group" ng-class="{error: userForm.passwordConfirm.$invalid}">
                    <label class="control-label" for="inputPassword">Password</label>
                    <div class="controls">
                        <input type="password"
                               id="inputPassword"
                               name="password"
                               placeholder="enter new password.."
                               ng-model="user.password"
                               />
                        <span class="help-inline" ng-show="userForm.passwordConfirm.$error.validatePassword">Passwords do not match</span>
                        <span class="help-inline" ng-show="userForm.password.$error.validateServer" ng-bind="serverErrors.password"></span>
                    </div>
                </div>
                <div class="control-group" ng-class="{error: userForm.passwordConfirm.$invalid}">
                    <label class="control-label" for="inputPassword2">Confirm Password</label>
                    <div class="controls">
                        <input type="password"
                               id="inputPassword2"
                               name="passwordConfirm"
                               validate-password="inputPassword"
                               placeholder="confirm new password.."
                               ng-model="user.passwordConfirm" />
                        <span class="help-inline" ng-show="userForm.passwordConfirm.$error.validatePassword">Passwords do not match</span>
                    </div>
                </div>

                <!-- Company -->
                <div class="control-group" ng-class="{error: userForm.company.$invalid}">
                    <label class="control-label" for="inputCompany">Company</label>
                    <div class="controls">
                        <input type="text"
                               id="inputCompany"
                               name="company"
                               placeholder="Company.."
                               ng-model="user.company"
                               />
                        <span class="help-inline" ng-show="userForm.company.$error.validateServer" ng-bind="serverErrors.company"></span>
                    </div>
                </div>

                <!-- Phone Number -->
                <div class="control-group" ng-class="{error: userForm.phoneNumber.$invalid}">
                    <label class="control-label" for="inputPhoneNumber">Phone Number</label>
                    <div class="controls">
                        <input type="text"
                               id="inputPhoneNumber"
                               name="phoneNumber"
                               placeholder="eg. 0412345678.."
                               ng-model="user.phoneNumber"
                               ng-pattern="/([0-9]+)/"
                               tooltip-placement="right"
                               tooltip="Phone Numbers can be used to send instant notifications." />
                        <span class="help-inline" ng-show="userForm.phoneNumber.$error.pattern">Phone numbers may only contain numbers</span>
                        <span class="help-inline" ng-show="userForm.phoneNumber.$error.validateServer" ng-bind="serverErrors.phoneNumber"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>